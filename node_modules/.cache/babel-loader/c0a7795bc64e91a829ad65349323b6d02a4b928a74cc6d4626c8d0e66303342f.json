{"ast":null,"code":"var _jsxFileName = \"/Users/monica/Desktop/Monica's Task/src/components/PlayAllButtons.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Button } from \"../styled_components/Button\";\nimport { StyledIcon } from \"../styled_components/Icon\";\nimport { faPause, faPlay, faCaretDown, faPlus, faUpRightAndDownLeftFromCenter, faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\nimport { SongList } from \"./SongList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PlayAllButtons = ({\n  songList\n}) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [sorted, setSorted] = useState(true);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [currentSongIndex, setCurrentSongIndex] = useState(-1);\n  const [currentSong, setCurrentSong] = useState(null);\n  const handleTogglePlay = index => {\n    var _SongList$index;\n    const audioUrl = (_SongList$index = SongList[index]) === null || _SongList$index === void 0 ? void 0 : _SongList$index.file;\n    currentSong === null || currentSong === void 0 ? void 0 : currentSong.pause();\n    if (index == currentSongIndex) {\n      setCurrentSongIndex(-1);\n    } else if (audioUrl) {\n      const audio = new Audio(audioUrl);\n      audio.play();\n      setCurrentSong(audio);\n      setCurrentSongIndex(index);\n    }\n  };\n  const handlePlayAll = () => {\n    if (isPlaying) {\n      currentSong === null || currentSong === void 0 ? void 0 : currentSong.pause();\n      setCurrentSongIndex(-1);\n    } else {\n      handleTogglePlay(0);\n    }\n    setIsPlaying(!isPlaying);\n  };\n  useEffect(() => {\n    if (isPlaying) {\n      const timer = setInterval(() => {\n        console.log(currentSong === null || currentSong === void 0 ? void 0 : currentSong.currentTime, currentSong === null || currentSong === void 0 ? void 0 : currentSong.duration);\n        if (currentSong && Number(currentSong === null || currentSong === void 0 ? void 0 : currentSong.currentTime) >= Number(currentSong === null || currentSong === void 0 ? void 0 : currentSong.duration)) {\n          if (currentSongIndex < songList.length - 1) {\n            handleTogglePlay(currentSongIndex + 1);\n          } else {\n            handlePlayAll();\n          }\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  });\n  const sortSongs = () => {\n    setSongList([...songList.sort((a, b) => sorted ? a.trackNumber - b.trackNumber : b.trackNumber - a.trackNumber)]);\n    setSorted(!sorted);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      flexWrap: \"wrap\",\n      padding: \"10px 0\",\n      background: \"#d3d3d3b5\",\n      width: \"90%\",\n      color: \"#5a5959\",\n      textAlign: \"start\",\n      fontWeight: \"bold\",\n      fontSize: \"13px\",\n      fontFamily: \"Arial,Helvetica,sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handlePlayAll,\n        $primary: true,\n        children: [/*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: isPlaying ? faPause : faPlay,\n          $primary: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), \"Play All\", /*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faCaretDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        $primary: true,\n        children: [/*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faPlus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), \"Add All\", /*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faCaretDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        $primary: true,\n        onClick: sortSongs,\n        children: [/*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faUpRightAndDownLeftFromCenter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), \"Track Nu...\", /*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faCaretDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          position: \"relative\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(StyledIcon, {\n          icon: faMagnifyingGlass,\n          style: {\n            position: \"absolute\",\n            right: \"5px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          style: {\n            padding: \"0.5em 1em\",\n            borderRadius: \"25px\",\n            border: \"1px solid\"\n          },\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          placeholder: \"Search song\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 7\n  }, this);\n};\n_s(PlayAllButtons, \"fGb6ts/BYo0VjtLbkP1fcrOauFE=\");\n_c = PlayAllButtons;\nvar _c;\n$RefreshReg$(_c, \"PlayAllButtons\");","map":{"version":3,"names":["useEffect","useState","Button","StyledIcon","faPause","faPlay","faCaretDown","faPlus","faUpRightAndDownLeftFromCenter","faMagnifyingGlass","SongList","jsxDEV","_jsxDEV","PlayAllButtons","songList","_s","isPlaying","setIsPlaying","sorted","setSorted","inputValue","setInputValue","currentSongIndex","setCurrentSongIndex","currentSong","setCurrentSong","handleTogglePlay","index","_SongList$index","audioUrl","file","pause","audio","Audio","play","handlePlayAll","timer","setInterval","console","log","currentTime","duration","Number","length","clearInterval","sortSongs","setSongList","sort","a","b","trackNumber","style","display","justifyContent","flexWrap","padding","background","width","color","textAlign","fontWeight","fontSize","fontFamily","children","onClick","$primary","icon","fileName","_jsxFileName","lineNumber","columnNumber","alignItems","position","right","type","borderRadius","border","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["/Users/monica/Desktop/Monica's Task/src/components/PlayAllButtons.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\nimport { Button } from \"../styled_components/Button\";\nimport { StyledIcon } from \"../styled_components/Icon\";\nimport {\n  faPause,\n  faPlay,\n  faCaretDown,\n  faPlus,\n  faUpRightAndDownLeftFromCenter,\n  faMagnifyingGlass,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { Song } from \"../types\";\nimport { SongList } from \"./SongList\";\n\n\ninterface PlayAllButtonsProps {\n  songList: Song[];\n  \n}\n\n\nexport const PlayAllButtons: FC <PlayAllButtonsProps> = ({songList}) => {\n\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const [sorted, setSorted] = useState<boolean>(true);\n  const [inputValue, setInputValue] = useState<string>(\"\");\n  const [currentSongIndex, setCurrentSongIndex] = useState(-1);\n  const [currentSong, setCurrentSong] = useState<HTMLAudioElement | null>(null);\n  const handleTogglePlay = (index: number) => {\n    const audioUrl = SongList[index]?.file;\n    currentSong?.pause();\n    if (index == currentSongIndex) {\n      setCurrentSongIndex(-1);\n    } else if (audioUrl) {\n      const audio = new Audio(audioUrl);\n      audio.play();\n      setCurrentSong(audio);\n      setCurrentSongIndex(index);\n    }\n  };\n\n  const handlePlayAll = () => {\n    if (isPlaying) {\n      currentSong?.pause();\n      setCurrentSongIndex(-1);\n    } else {\n      handleTogglePlay(0);\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  useEffect(() => {\n    if (isPlaying) {\n      const timer = setInterval(() => {\n        console.log(currentSong?.currentTime, currentSong?.duration);\n        if (\n          currentSong &&\n          Number(currentSong?.currentTime) >= Number(currentSong?.duration)\n        ) {\n          if (currentSongIndex < songList.length - 1) {\n            handleTogglePlay(currentSongIndex + 1);\n          } else {\n            handlePlayAll();\n          }\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  });\n  const sortSongs = () => {\n    setSongList([\n      ...songList.sort((a, b) =>\n        sorted ? a.trackNumber - b.trackNumber : b.trackNumber - a.trackNumber\n      ),\n    ]);\n    setSorted(!sorted);\n  };\n\n\n\n\n    return (\n      <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexWrap: \"wrap\",\n        padding: \"10px 0\",\n        background: \"#d3d3d3b5\",\n        width: \"90%\",\n        color: \"#5a5959\",\n        textAlign: \"start\",\n        fontWeight: \"bold\",\n        fontSize: \"13px\",\n        fontFamily: \"Arial,Helvetica,sans-serif\",\n      }}\n    >\n      <div style={{ display: \"flex\" }}>\n        <Button onClick={handlePlayAll} $primary>\n          <StyledIcon icon={isPlaying ? faPause : faPlay} $primary />\n          Play All\n          <StyledIcon icon={faCaretDown} />\n        </Button>\n        <Button $primary>\n          <StyledIcon icon={faPlus} />\n          Add All\n          <StyledIcon icon={faCaretDown} />\n        </Button>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <Button $primary onClick={sortSongs}>\n          <StyledIcon icon={faUpRightAndDownLeftFromCenter} />\n          Track Nu...\n          <StyledIcon icon={faCaretDown} />\n        </Button>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            position: \"relative\",\n          }}\n        >\n          <StyledIcon\n            icon={faMagnifyingGlass}\n            style={{ position: \"absolute\", right: \"5px\" }}\n          />\n          <input\n            type=\"search\"\n            style={{\n              padding: \"0.5em 1em\",\n              borderRadius: \"25px\",\n              border: \"1px solid\",\n            }}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            placeholder=\"Search song\"\n          />\n        </div>\n      </div>\n    </div>\n    );\n  };\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}