{"ast":null,"code":"var _jsxFileName = \"/Users/monica/Desktop/Monica's Task/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { SongList } from \"./components/SongList\";\nimport { MusicUploadForm } from \"./components/MusicUploadForm\";\nimport { SongContext } from \"./SongContext\";\nimport { PlayAllButtons } from \"./components/PlayAllButtons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [songList, setSongList] = useState([{\n    songName: \"Halo\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 1,\n    file: \"/music/music1.mp3\"\n  }, {\n    songName: \"Blind\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 2,\n    file: \"/music/music2.mp3\"\n  }, {\n    songName: \"Twin Flames\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 3,\n    file: \"/music/music3.mp3\"\n  }, {\n    songName: \"Left to Hurt\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 4,\n    file: \"/music/music4.mp3\"\n  }, {\n    songName: \"Starlight\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 5,\n    file: \"/music/music5.mp3\"\n  }, {\n    songName: \"Modern Disbelief\",\n    artistName: \"Blackbird Blackbird\",\n    trackNumber: 6,\n    file: \"/music/music6.mp3\"\n  }]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [sorted, setSorted] = useState(true);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [currentSongIndex, setCurrentSongIndex] = useState(-1);\n  const [currentSong, setCurrentSong] = useState(null);\n  const handleTogglePlay = index => {\n    var _songList$index;\n    const audioUrl = (_songList$index = songList[index]) === null || _songList$index === void 0 ? void 0 : _songList$index.file;\n    currentSong === null || currentSong === void 0 ? void 0 : currentSong.pause();\n    if (index == currentSongIndex) {\n      setCurrentSongIndex(-1);\n    } else if (audioUrl) {\n      const audio = new Audio(audioUrl);\n      audio.play();\n      setCurrentSong(audio);\n      setCurrentSongIndex(index);\n    }\n  };\n  const pushItem = newSong => {\n    setSongList(prevSongLists => [...prevSongLists, newSong]);\n  };\n  const handlePlayAll = () => {\n    if (isPlaying) {\n      currentSong === null || currentSong === void 0 ? void 0 : currentSong.pause();\n      setCurrentSongIndex(-1);\n    } else {\n      handleTogglePlay(0);\n    }\n    setIsPlaying(!isPlaying);\n  };\n  useEffect(() => {\n    if (isPlaying) {\n      const timer = setInterval(() => {\n        console.log(currentSong === null || currentSong === void 0 ? void 0 : currentSong.currentTime, currentSong === null || currentSong === void 0 ? void 0 : currentSong.duration);\n        if (currentSong && Number(currentSong === null || currentSong === void 0 ? void 0 : currentSong.currentTime) >= Number(currentSong === null || currentSong === void 0 ? void 0 : currentSong.duration)) {\n          if (currentSongIndex < songList.length - 1) {\n            handleTogglePlay(currentSongIndex + 1);\n          } else {\n            handlePlayAll();\n          }\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  });\n  const sortSongs = () => {\n    setSongList([...songList.sort((a, b) => sorted ? a.trackNumber - b.trackNumber : b.trackNumber - a.trackNumber)]);\n    setSorted(!sorted);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(SongContext.Provider, {\n      value: {\n        songList,\n        pushItem,\n        handleTogglePlay,\n        currentSongIndex,\n        handlePlayAll,\n        sortSongs\n      },\n      children: [/*#__PURE__*/_jsxDEV(PlayAllButtons, {\n        sonList: songList,\n        handlePlayAll: handlePlayAll\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(SongList, {\n        inputValue: inputValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MusicUploadForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"LsdznuHCXUu2Sb2SRgNtZ/HckXY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","SongList","MusicUploadForm","SongContext","PlayAllButtons","jsxDEV","_jsxDEV","App","_s","songList","setSongList","songName","artistName","trackNumber","file","isPlaying","setIsPlaying","sorted","setSorted","inputValue","setInputValue","currentSongIndex","setCurrentSongIndex","currentSong","setCurrentSong","handleTogglePlay","index","_songList$index","audioUrl","pause","audio","Audio","play","pushItem","newSong","prevSongLists","handlePlayAll","timer","setInterval","console","log","currentTime","duration","Number","length","clearInterval","sortSongs","sort","a","b","style","display","flexDirection","flexWrap","alignItems","children","Provider","value","sonList","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/monica/Desktop/Monica's Task/src/App.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { SongList } from \"./components/SongList\";\nimport { Song } from \"./types\";\nimport { MusicUploadForm } from \"./components/MusicUploadForm\";\n\nimport { SongContext } from \"./SongContext\";\nimport { PlayAllButtons } from \"./components/PlayAllButtons\";\n\nfunction App() {\n  const [songList, setSongList] = useState<Song[]>([\n    {\n      songName: \"Halo\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 1,\n      file: \"/music/music1.mp3\",\n    },\n    {\n      songName: \"Blind\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 2,\n      file: \"/music/music2.mp3\",\n    },\n    {\n      songName: \"Twin Flames\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 3,\n      file: \"/music/music3.mp3\",\n    },\n    {\n      songName: \"Left to Hurt\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 4,\n      file: \"/music/music4.mp3\",\n    },\n    {\n      songName: \"Starlight\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 5,\n      file: \"/music/music5.mp3\",\n    },\n    {\n      songName: \"Modern Disbelief\",\n      artistName: \"Blackbird Blackbird\",\n      trackNumber: 6,\n      file: \"/music/music6.mp3\",\n    },\n  ]);\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const [sorted, setSorted] = useState<boolean>(true);\n  const [inputValue, setInputValue] = useState<string>(\"\");\n  const [currentSongIndex, setCurrentSongIndex] = useState(-1);\n  const [currentSong, setCurrentSong] = useState<HTMLAudioElement | null>(null);\n  const handleTogglePlay = (index: number) => {\n    const audioUrl = songList[index]?.file;\n    currentSong?.pause();\n    if (index == currentSongIndex) {\n      setCurrentSongIndex(-1);\n    } else if (audioUrl) {\n      const audio = new Audio(audioUrl);\n      audio.play();\n      setCurrentSong(audio);\n      setCurrentSongIndex(index);\n    }\n  };\n  const pushItem = (newSong: Song) => {\n    setSongList((prevSongLists: Song[]) => [...prevSongLists, newSong]);\n  };\n  const handlePlayAll = () => {\n    if (isPlaying) {\n      currentSong?.pause();\n      setCurrentSongIndex(-1);\n    } else {\n      handleTogglePlay(0);\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  useEffect(() => {\n    if (isPlaying) {\n      const timer = setInterval(() => {\n        console.log(currentSong?.currentTime, currentSong?.duration);\n        if (\n          currentSong &&\n          Number(currentSong?.currentTime) >= Number(currentSong?.duration)\n        ) {\n          if (currentSongIndex < songList.length - 1) {\n            handleTogglePlay(currentSongIndex + 1);\n          } else {\n            handlePlayAll();\n          }\n        }\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  });\n  const sortSongs = () => {\n    setSongList([\n      ...songList.sort((a, b) =>\n        sorted ? a.trackNumber - b.trackNumber : b.trackNumber - a.trackNumber\n      ),\n    ]);\n    setSorted(!sorted);\n  };\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n      }}\n    >\n      <SongContext.Provider\n        value={{ songList, pushItem, handleTogglePlay, currentSongIndex, handlePlayAll, sortSongs }}\n      >\n       <PlayAllButtons sonList={songList} handlePlayAll={handlePlayAll}/>\n        <SongList inputValue={inputValue} />\n        <MusicUploadForm />\n      </SongContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}